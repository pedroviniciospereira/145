{% extends 'base.html' %}
{% load static %}

{% block title %}{% if colaborador %}Editar{% else %}Cadastrar{% endif %} Colaborador{% endblock %}

{% block content %}

    <div class="page-header">
        <h1>{% if colaborador %}Editar{% else %}Cadastrar{% endif %} Colaborador</h1>
        <a href="{% url 'index' %}" class="btn-secondary"> <svg class="icon"><use href="#icon-arrow-left"></use></svg>
            Voltar para a lista
        </a>
    </div>

    <div class="form-card">
        <div class="form-header">
            <svg class="icon-large"><use href="#icon-plus-circle"></use></svg>
            <h2>{% if colaborador %}Dados do Colaborador{% else %}Novo Colaborador{% endif %}</h2>
        </div>
        
        <div id="alert-success" style="display: none;">Colaborador salvo com sucesso!</div> 

        <form id="colaborador-form" method="POST">
            {% csrf_token %} 
            
            <div class="form-group">
                <label for="nome">Nome Completo <span class="required">*</span></label>
                <input type="text" id="nome" name="nome_completo" placeholder="Digite o nome completo" 
                       value="{{ colaborador.nome_completo|default:'' }}" required>
            </div>

            <div class="form-group">
                <label for="cpf">CPF <span class="required">*</span></label>
                <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" 
                       value="{{ colaborador.cpf|default:'' }}" required maxlength="14">
            </div>

            <div class="form-group">
                <label for="funcao">Função <span class="required">*</span></label>
                <input type="text" id="funcao" name="funcao" list="lista-funcoes" placeholder="Selecione ou digite a função" 
                       value="{{ colaborador.funcao|default:'' }}" required>
                <datalist id="lista-funcoes">
                    <option value="Almoxarife">
                    <option value="Pedreiro">
                    <option value="Eletricista">
                    <option value="Mestre de Obras">
                    <option value="Carpinteiro">
                    <option value="Servente">
                    <option value="Armador">
                </datalist>
            </div>

            <div class="form-group">
                <label for="status">Status <span class="required">*</span></label>
                <select id="status" name="status" required>
                    <option value="Ativo" {% if colaborador.status == 'Ativo' %}selected{% endif %}>Ativo</option>
                    <option value="Inativo" {% if colaborador.status == 'Inativo' %}selected{% endif %}>Inativo</option>
                </select>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-submit">
                    <svg class="icon"><use href="#icon-save"></use></svg>
                    Salvar Colaborador
                </button>
            </div>
        </form>
    </div>

{% endblock %}